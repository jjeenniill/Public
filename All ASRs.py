import getpass
import telnetlib
import time


# import keyboard

def telnet(ip):
    tn = telnetlib.Telnet(ip, "23", 5)
    tn.read_until(b"Username:")
    tn.write(b"jshah\r\n")
    tn.read_until(b"Password:")
    tn.write(b"West!4aw\r\n")
    tn.write(b"\r\n")
    tn.write(b"en\r\n")
    tn.write(b"terminal length 0\r\n")  # It will remove "--More--"
    # z =(("sh ip route " + x).encode('ascii')) # Convert it into ASCII
    z = ((x + "\r\n").encode('ascii'))
    tn.write(z)
    tn.write(b"\r\n")
    time.sleep(2)
    output = tn.read_very_eager().decode('utf-8')
    print(output)


while 1:
    # x=input("ip:")                             # Just forw an IP
    x = input("Type your Command:")  # Type your whole command
    POP = input("Which POP do you need me to search?:")
    if POP == "ATL":
        ipadd = ['216.194.41.71', '216.194.41.72', '172.16.180.62', '172.16.180.63', '172.16.180.60', '172.16.180.61',
                 '172.16.180.58', '172.16.180.59', '172.16.180.69', '172.16.180.70', '172.16.180.12']
        for ip in ipadd:
            telnet(ip)  # 'telnet' function will telnet to the device and perform the given command
    elif POP == "NYC":
        ipadd = ['172.16.203.62', '172.16.203.37', '216.194.31.72', '172.16.203.63', '172.16.203.60', '172.16.203.61',
                 '216.194.31.62', '216.194.31.63', '172.16.203.128', '172.16.203.129', '216.194.31.75', '216.194.31.76',
                 '172.16.203.12']
        for ip in ipadd:
            telnet(ip)
    elif POP == "CHI":
        ipadd = ['172.16.197.62', '172.16.197.63', '172.16.197.60', '172.16.197.61', '172.16.197.58', '172.16.197.59',
                 '172.16.197.69', '172.16.197.70', '216.194.9.71', '216.194.9.72']
        for ip in ipadd:
            telnet(ip)
    elif POP == "DAL":
        ipadd = ['172.16.198.62', '172.16.198.63', '172.16.198.60', '172.16.198.61', '172.16.198.58', '172.16.198.59',
                 '172.16.198.169', '172.16.198.170', '172.16.198.71', '172.16.198.72']
        for ip in ipadd:
            telnet(ip)
    elif POP == "CAL":
        ipadd = ['172.16.199.62', '172.16.199.63', '172.16.199.60', '172.16.199.61', '172.16.199.58', '172.16.199.59',
                 '172.16.199.169', '172.16.199.170', '216.194.61.72', '216.194.61.71']
        for ip in ipadd:
            telnet(ip)
    elif POP == "DC":
        ipadd = ['172.16.192.62', '172.31.33.12', '172.31.33.1', '172.31.33.14', '172.31.33.15', '172.31.33.16',
                 '172.31.33.17', '172.31.33.18']
        for ip in ipadd:
            telnet(ip)
    else:
        print("Incorrect POP Name")

    name = input("Do you want to continue?")
    if name == 'quit': break

######################################
# ATL-7206-03 - 216.194.41.71
# ATL-7206-04 - 216.194.41.72
# ATL-ASR1K-01 - 172.16.180.62
# ATL-ASR1K-02 - 172.16.180.63
# ATL-ASR1K-03 - 172.16.180.60
# ATL-ASR1K-04 - 172.16.180.61
# ATL-ASR1K-05 - 172.16.180.58
# ATL-ASR1K-06 - 172.16.180.59
# ATL-ASR1K-07 - 172.16.180.69
# ATL-ASR1K-08 - 172.16.180.70
# ATL2-ASR1K-01 - 172.16.180.12
######################################
# NYC-7206-03 - 172.16.203.37
# NYC-7206-04 - 216.194.31.72
# NYC-ASR1K-01 - 172.16.203.62
# NYC-ASR1K-02 - 172.16.203.63
# NYC-ASR1K-03 - 172.16.203.60
# NYC-ASR1K-04 - 172.16.203.61
# NYC-ASR1K-05 - 216.194.31.62
# NYC-ASR1K-06 - 216.194.31.63
# NYC-ASR1K-07 - 172.16.203.128
# NYC-ASR1K-08 - 172.16.203.129
# NYC-ASR1K-09 - 216.194.31.75
# NYC-ASR1K-10 - 216.194.31.76
# NYC2-ASR-01 - 172.16.203.12
#####################################
# CAL-ASR1K-01 - 172.16.199.62
# CHI-ASR1K-01 - 172.16.197.62
# DAL-ASR-01 - 172.16.198.62
# NYC-ASR1K-01 - 172.16.203.62
########################
# CHI-ASR1K-01	172.16.197.62
# CHI-ASR1K-02	172.16.197.63
# CHI-ASR1K-03	172.16.197.60
# CHI-ASR1K-04	172.16.197.61
# CHI-ASR1K-05	172.16.197.58
# CHI-ASR1K-06	172.16.197.59
# CHI-ASR1K-07	172.16.197.69
# CHI-ASR1K-08	172.16.197.70
# CHI-ASR1K-09	216.194.9.71
# CHI-7206-04	216.194.9.72
#########################
# DAL-ASR-01	172.16.198.62
# DAL-ASR-02	172.16.198.63
# DAL-ASR1K-03	172.16.198.60
# DAL-ASR1K-04	172.16.198.61
# DAL-ASR1K-05	172.16.198.58
# DAL-ASR1K-06	172.16.198.59
# DAL-ASR1K-07	172.16.198.169
# DAL-ASR1K-08	172.16.198.170
# DAL-7206-03	172.16.198.71
# DAL-7206-04	172.16.198.72
#############################
# CAL-ASR1K-01	172.16.199.62
# CAL-ASR1K-02	172.16.199.63
# CA-ASR1K-03	172.16.199.60
# CA-ASR1K-04	172.16.199.61
# CA-ASR1K-05	172.16.199.58
# CA-ASR1K-06	172.16.199.59
# CA-ASR1K-07	172.16.199.169
# CA-ASR1K-08	172.16.199.170
# CA-7206-04	216.194.61.72
# CA-7206-03	216.194.61.71
#############################
# DC-ASR1-01    172.16.192.62
# DC-ASR1-02    172.31.33.12
# DC-ASR1-03    172.31.33.1
# DC-ASR1-04    172.31.33.14
# DC-ASR1-05    172.31.33.15
# DC-ASR1-06    172.31.33.16
# DC-ASR1-07    172.31.33.17
# DC-ASR1-08    172.31.33.18
